<html xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head th:replace="fragments/header :: header">
</head>
<body>
<div class="container heightCal">
    <div th:replace="fragments/bodyHeader :: bodyHeader"></div>
    <section class="section">
        <div class="container">
            <div class="justify-content-center row">
                <div class="col-lg-12">
                    <div class="candidate-list-widgets mb-4">
                        <form action="#" class="">
                            <div class="g-2 row">
                                <form th:action="@{/search/books}", method="get">
                                    <div class="col-lg-3">
                                        <div class="filler-job-form">
                                            <i class="uil uil-briefcase-alt"></i><input type="search" name="query" class="form-control filler-job-input-box form-control" />
                                        </div>
                                    </div>
                                    <div class="col-lg-3">
                                        <div>
                                            <button class="btn btn-success ms-2" type="submit"><i class="uil uil-cog"></i> 검색</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="align-items-center row">
                        <div class="col-lg-8">
                            <div class="mb-3 mb-lg-0"><h6 class="fs-16 mb-0">Showing 1 – 8 of 11 results</h6></div>
                        </div>
                        <div class="col-lg-4">
                            <div class="candidate-list-widgets">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="selection-widget">
                                            <select class="form-select" data-trigger="true" name="choices-single-filter-orderby" id="choices-single-filter-orderby" aria-label="Default select example">
                                                <option value="df">Default</option>
                                                <option value="ne">Newest</option>
                                                <option value="od">Oldest</option>
                                                <option value="rd">Random</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="selection-widget mt-2 mt-lg-0">
                                            <select class="form-select" data-trigger="true" name="choices-candidate-page" id="choices-candidate-page" aria-label="Default select example">
                                                <option value="df">All</option>
                                                <option value="ne">8 per Page</option>
                                                <option value="ne">12 per Page</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <table>
                        <div class="candidate-list">
                            <h1 class="mt-5 text-center" th:if="${books.size() == 0}">결과 값이 존재하지 않습니다.</h1>
                            <tr th:each=" book : ${books}">
                                <div class="candidate-list-box card mt-4">
                                    <div class="p-4 card-body">
                                        <div class="align-items-center row">
                                            <div class="col-auto">
                                                <div class="candidate-list-images">
                                                    <a href="#"><img th:src="${book.image}" alt="" class="avatar-md img-thumbnail" /></a>
                                                </div>
                                            </div>
                                            <div class="col-lg-5">
                                                <div class="candidate-list-content mt-3 mt-lg-0">
                                                    <h5 class="fs-19 mb-0">
                                                        <a class="primary-link" th:href="@{/search/book/{isbn}(isbn = ${book.isbn})}" th:text="${book.title}">제목</a><span class="badge bg-success ms-1"><i class="bi bi-star align-middle"></i>4.8</span>
                                                    </h5>
                                                    <p class="text-muted mb-2" th:text="${book.author}">저자</p>
                                                    <ul class="list-inline mb-0 text-muted">
                                                        <li class="list-inline-item" th:text="${book.isbn}"><i class="bi bi-wallet"></i>isbn</li>
                                                        <li class="list-inline-item" th:text="${book.publisher}"><i class="bi bi-map-marker"></i>출판사</li>
                                                        <li class="list-inline-item" th:text="${book.pubdate}"><i class="bi bi-wallet"></i>출간일</li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="col-lg-5">
                                                <p class="max-line" th:text="${book.description}"></p>
                                            </div>
                                        </div>
                                        <div class="favorite-icon">
                                            <a href="#"><i class="bi bi-heart fs-18"></i></a>
                                        </div>
                                    </div>
                                </div>
                            </tr>

                            <!--                        <div class="candidate-list-box bookmark-post card mt-4">-->
                            <!--                            <div class="p-4 card-body">-->
                            <!--                                <div class="align-items-center row">-->
                            <!--                                    <div class="col-auto">-->
                            <!--                                        <div class="candidate-list-images">-->
                            <!--                                            <a href="#"><img src="https://bootdey.com/img/Content/avatar/avatar2.png" alt="" class="avatar-md img-thumbnail rounded-circle" /></a>-->
                            <!--                                        </div>-->
                            <!--                                    </div>-->
                            <!--                                    <div class="col-lg-5">-->
                            <!--                                        <div class="candidate-list-content mt-3 mt-lg-0">-->
                            <!--                                            <h5 class="fs-19 mb-0">-->
                            <!--                                                <a class="primary-link" href="#">Gabriel Palmer</a><span class="badge bg-warning ms-1"><i class="mdi mdi-star align-middle"></i>3.4</span>-->
                            <!--                                            </h5>-->
                            <!--                                            <p class="text-muted mb-2">HTML Developer</p>-->
                            <!--                                            <ul class="list-inline mb-0 text-muted">-->
                            <!--                                                <li class="list-inline-item"><i class="mdi mdi-map-marker"></i> Oakridge Lane California</li>-->
                            <!--                                                <li class="list-inline-item"><i class="mdi mdi-wallet"></i> $250 / hours</li>-->
                            <!--                                            </ul>-->
                            <!--                                        </div>-->
                            <!--                                    </div>-->
                            <!--                                    <div class="col-lg-4">-->
                            <!--                                        <div class="mt-2 mt-lg-0 d-flex flex-wrap align-items-start gap-1"><span class="badge bg-soft-secondary fs-14 mt-1">Design</span><span class="badge bg-soft-secondary fs-14 mt-1">Developer</span></div>-->
                            <!--                                    </div>-->
                            <!--                                </div>-->
                            <!--                                <div class="favorite-icon">-->
                            <!--                                    <a href="#"><i class="mdi mdi-heart fs-18"></i></a>-->
                            <!--                                </div>-->
                            <!--                            </div>-->
                            <!--                        </div>-->
                        </div>
                    </table>
                </div>
            </div>
            <div class="row">
                <div class="mt-4 pt-2 col-lg-12">
                    <nav aria-label="Page navigation example">
                        <div class="pagination job-pagination mb-0 justify-content-center">
                            <li class="page-item disabled">
                                <a class="page-link" tabindex="-1" href="#"><i class="bi bi-chevron-double-left fs-15"></i></a>
                            </li>
                            <li th:if="${pageCount > 0}" th:each="pageNum : ${#numbers.sequence(1, pageCount)}" th:class="${pageNum == currentPage} ? 'page-item active' : 'page-item'">
                                <a class="page-link" th:href="@{/search/books(query=${queryString}, page=${pageNum})}" th:text="${pageNum}">1</a>
                            </li>
                            <li class="page-item">
                                <a class="page-link" href="#"><i class="bi bi-chevron-double-right fs-15"></i></a>
                            </li>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </section>
</div>
<div th:replace="fragments/footer :: footer"></div>
</body>
<script src="https://kit.fontawesome.com/5f234ab63e.js" crossorigin="anonymous"></script>
</html>